{% extends 'layout.html' %} {# CRITICAL CORRECTION: Now extends layout.html for the sidebar dashboard look #}

{% block title %}Nova Comunidade{% endblock %}
{% block page_title %}Criar Nova Comunidade{% endblock %} {# Título para o cabeçalho principal #}

{% block content %}
<div class="form-container"> {# Usa o container de formulário para centralizar e estilizar #}
    <div class="card" style="max-width: 42rem; width: 100%;"> {# Reutiliza o estilo de card com largura limitada #}
        <h2 class="section-title" style="margin-bottom: 1.5rem;">Criar Nova Comunidade</h2> {# Título principal do card #}
        
        <form action="{{ url_for('comunidades.nova') }}" method="POST" class="form-grid">
            <div>
                <label for="nome" class="form-label">Nome da Comunidade:</label>
                <input type="text" id="nome" name="nome" value="{{ nome | default('', true) }}" required 
                       class="form-input"
                       placeholder="Ex: Comunidade de Membros VIP">
            </div>
            <div>
                <label for="descricao" class="form-label">Descrição (Opcional):</label>
                <textarea id="descricao" name="descricao" rows="3" 
                          class="form-textarea"
                          placeholder="Uma breve descrição sobre a comunidade...">{{ descricao | default('', true) }}</textarea>
            </div>
            {# Se você tiver um campo para 'chat_id' aqui na criação, adicione-o como no 'comunidades.html' anterior #}
            {# Exemplo, se precisar:
            <div>
                <label for="chat_id" class="form-label">ID do Chat/Grupo Telegram (Opcional):</label>
                <input type="text" id="chat_id" name="chat_id" 
                       class="form-input"
                       placeholder="Ex: -1001234567890 (para grupos/canais)"
                       value="{{ chat_id | default('', true) }}">
                <p class="form-hint">Este é o ID numérico do grupo ou canal no Telegram associado a esta comunidade.</p>
            </div>
            #}
            
            <div class="form-actions" style="margin-top: 1rem;"> {# flex justify-end space-x-3 #}
                <a href="{{ url_for('comunidades.lista') }}" class="btn btn-secondary"> {# Link para a página de lista #}
                    Cancelar
                </a>
                <button type="submit" class="btn btn-primary"> {# Botão principal #}
                    Criar Comunidade
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}